<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bethlehem House | Inventory</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<div class="app-wrapper">
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo-icon">B</div>
            <span>Bethlehem House</span>
        </div>
        <nav class="menu">
            <a href="javascript:void(0)" class="menu-item active" onclick="showSection('scan-box', this)"><span>üîç</span> Scan Barcode</a>
            <a href="javascript:void(0)" class="menu-item" onclick="showSection('donation-box', this)"><span>üéÅ</span> New Donation</a>
            <a href="javascript:void(0)" class="menu-item" onclick="showSection('generate-box', this)"><span>üè∑Ô∏è</span> Generate Tags</a>
            <a href="javascript:void(0)" class="menu-item" onclick="showSection('inventory-box', this)"><span>üìä</span> Inventory View</a>
        </nav>
    </aside>

    
    <main class="main-content">
        <header class="top-bar">
    <h1 id="view-title">Dashboard Overview</h1>
    
    <div class="top-bar-right">
        <div class="notification-wrapper">
            <div class="bell-icon" onclick="toggleNotifications()">
                <span>üîî</span>
                <span id="notif-badge" class="badge" style="display:none;">0</span>
            </div>
            
            <div id="notif-dropdown" class="notif-dropdown" style="display:none;">
                <div class="notif-header">Expiration Alerts</div>
                <ul id="alert-list">
                    <li class="empty-msg">No urgent alerts</li>
                </ul>
            </div>
        </div>

        <div class="user-profile">Admin Mode</div>
    </div>
</header>

        <section id="expiry-notifications" class="glass-card" style="display:none; border-left: 6px solid #ef4444; margin-bottom: 2rem;">
        <div class="card-header" style="margin-bottom: 0.5rem;">
            <h2 style="color: #b91c1c; font-size: 1rem; display: flex; align-items: center; gap: 8px;">
                ‚ö†Ô∏è Expiring Soon
            </h2>
            <p>Kailangang magamit na ang mga sumusunod (30 days or less):</p>
        </div>
        <ul id="alert-list" style="list-style: none; padding: 0; font-size: 0.9rem;">
            </ul>
    </section>


        <div class="content-body">
            
        <div id="scan-box" class="tab-content">
    <section id="scan" class="glass-card">
        <div class="card-header">
            <h2>Scan Barcode</h2>
            <p>Process incoming items quickly</p>
        </div>
        <div class="input-group">
            <input type="text" 
                   id="barcodeInput" 
                   inputmode="text" 
                   autocomplete="off" 
                   placeholder="Tap here and scan..." 
                   onkeypress="if(event.key === 'Enter') checkBarcode()">
            
            <button class="btn-primary" onclick="checkBarcode()">Check System</button>
        </div>
    </section>
</div>

            <div id="donation-box" class="tab-content" style="display:none;">
                <section id="donation" class="glass-card">
                    <div class="card-header">
                        <h2>Donation Details</h2>
                        <p>Log new donor contributions</p>
                    </div>
                    <div class="form-grid">
                        <input type="text" id="donor" placeholder="Donor Name">
                        <input type="text" id="item" placeholder="Item Name">
                        <input type="number" id="qty" placeholder="Quantity">
                        <input type="date" id="exp">
                    </div>
                    <button class="btn-secondary" onclick="saveDonation()">Save to Inventory</button>
                </section>
            </div>

            <div id="generate-box" class="tab-content" style="display:none;">
                <section id="generate" class="glass-card full-width">
                    <div class="card-header">
                        <h2>Label Generator</h2>
                    </div>
                    <div class="action-row">
                        <button class="btn-outline" onclick="addBarcode()">+ New Barcode</button>
                        <button class="btn-primary" onclick="saveBarcodesAsPDF()">Export PDF</button>
                    </div>
                    <div id="barcodeList" class="barcode-preview-grid"></div>
                </section>
            </div>

           <div id="inventory-box" class="tab-content" style="display:none;">
    <section id="inventory" class="glass-card full-width">
        <div class="card-header"><h2>Live Inventory</h2></div>
        <div class="table-container">
            <table id="inventoryTable">
                <thead>
                    <tr>
                        <th>Barcode</th><th>Item</th><th>Qty</th>
                        <th>Expiration</th><th>Days Left</th><th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </section>

    <section id="history-section" class="glass-card full-width" style="margin-top: 2rem; border-top: 4px solid #6366f1;">
        <div class="card-header">
            <h2>Usage History</h2>
            <p>Recently used or consumed items</p>
        </div>
        <div class="table-container">
            <table id="historyTable">
                <thead>
                    <tr>
                        <th>Barcode</th><th>Item</th><th>Qty</th><th>Date Used</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </section>
</div>

        </div>
    </main>
</div>
<script src="script.js"></script>
</body>
</html>